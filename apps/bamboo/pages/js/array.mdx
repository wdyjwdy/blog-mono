# Array
## Map
![map](public/img/js/array/map.png)
```js
function map(fn, thisArg = window) {
    let result = []
    let array = this
    for (let [index, value] of array.entries()) {
        result.push(fn.call(thisArg, value, index, array))
    }
    return result
}

Array.prototype.map = map
```
## Reduce
![reduce](public/img/js/array/reduce.png)
```js
function reduce(fn, initValue) {
    let [array, prevValue] = [this.slice(1), this[0]]
    if (initValue !== undefined) {
        [array, prevValue] = [this, initValue]
    }
    for (let [index, value] of array.entries()) {
        prevValue = fn(prevValue, value, index, value)
    }
    return prevValue
}

Array.prototype.reduce = reduce
```
## Filter
![filter](public/img/js/array/filter.png)
```js
function filter(fn, thisArg = window) {
    let result = []
    let array = this
    for (let [index, value] of array.entries()) {
        if (fn.call(thisArg, value, index, array)) {
            result.push(value)
        }
    }
    return result
}

Array.prototype.filter = filter
```
## ForEach
![foreach](public/img/js/array/foreach.png)
```js
function forEach(fn, thisArg = window) {
    let array = this
    for (let [index, value] of array.entries()) {
        fn.call(thisArg, value, index, array)
    }
}

Array.prototype.forEach = forEach
```
## Flat
![flat](public/img/js/array/flat.png)
```js
function flat(depth = 1) {
    let result = []
    let array = this
    for (let val of array) {
        if (val instanceof Array && depth > 0) {
            result.push(...val.flat(depth - 1))
        } else {
            result.push(val)
        }
    }
    return reslut
}

Array.prototype.flat = flat
```
## Deduplicate
```js
function deduplicate(arr) {
    return arr.filter((value, index, array) => {
        return index === array.indexOf(value)
    })
}
```