# Array
## Creating an Array
### constructor
- **描述**：创建数组
- **语法**：`Array(length){:js}`, `Array(...elements){:js}`
```js
Array()        // []
Array(3)       // [ , , , ]
Array(1, 2, 3) // [1, 2, 3]
```
### of
- **描述**：创建数组
- **语法**：`Array.of(...elements){:js}`
```js
Array.of()        // []
Array.of(3)       // [3]
Array.of(1, 2, 3) // [1, 2, 3]
```
### from
- **描述**：创建数组
- **语法**：`Array.from(arrayLike, mapFn?, thisArg?){:js}`
- **参数**
    - `arrayLike{:js}`：可迭代对象，类数组
    - `mapFn(value, index?){:js}`：映射函数
    - `thisArg{:js}`：mapFn 中 this 的值
```js
// iterable
Array.from('hello') // ['h', 'e', 'l', 'l', 'o']

// array-like
Array.from({ 0: 'a', 1: 'b', length: 2 }) // ['a', 'b']

// map function
Array.from('123', x => Number(x)) // [1, 2, 3]
```
## Accessing an Array
### at
- **描述**：访问索引位置元素
- **语法**：`at(index){:js}`
```js
// positive index
[1, 2, 3].at(0)  // 1

// negative index
[1, 2, 3].at(-1) // 3
```
## Modifying an Array
### push
- **描述**：添加元素到数组末尾，并返回新数组长度
- **语法**：`push(...elements){:js}`
```js
[1, 2].push(3)    // 3, arr: [1, 2, 3]
[1, 2].push(3, 4) // 4, arr: [1, 2, 3, 4]
```
### pop
- **描述**：删除数组末尾元素，并返回该元素
- **语法**：`pop(){:js}`
```js
[1, 2].pop() // 2, arr: [1]
```
### unshift
- **描述**：添加元素到数组开头，并返回新数组长度
- **语法**：`unshift(...elements){:js}`
```js
[1, 2].unshift(0)     // 3, arr: [0, 1, 2]
[1, 2].unshift(-1, 0) // 4, arr: [-1, 0, 1, 2]
```
### shift
- **描述**：删除数组开头元素，并返回该元素
- **语法**：`shift(){:js}`
```js
[1, 2].shift() // 1, arr: [2]
```
### splice
- **描述**：修改数组，并返回被删除的元素
- **语法**：`splice(start, deleteCount?, ...elements){:js}`
- **参数**
	- `start{:js}`：操作位置
    - `deleteCount = Infinity{:js}`：删除元素的个数
    - `element{:js}`：插入的元素
```js
// remove
[1, 2, 3].splice(1)    // [2, 3], arr: [1]
[1, 2, 3].splice(1, 1) // [2], arr: [1, 3]

// insert
[1, 2, 3].splice(1, 0, 'a', 'b') // [], arr: [1, 'a', 'b', 2, 3]
[1, 2, 3].splice(1, 2, 'a', 'b') // [2, 3], arr: [1, 'a', 'b']
```
### copyWithin
- **描述**：复制数组的一部分到另一个位置，并返回原数组
- **语法**：`splice(target, start?, end?){:js}`
```js
[1, 2, 3].copyWithin(1)       // [1, 1, 2]
[1, 2, 3].copyWithin(0, 1, 3) // [2, 3, 3]
```
### fill
- **描述**：填充数组，并返回原数组
- **语法**：`fill(value, start?, end?){:js}`
```js
// 基础
[1, 2, 3].fill(0)       // [0, 0, 0]
[1, 2, 3].fill(0, 1, 3) // [1, 0, 0]

// 填充空槽
[ , , , ].fill(0)       // [0, 0, 0]
```
## Iterating an Array
### forEach
- **描述**：遍历数组
- **语法**：`forEach(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].forEach(x => {console.log(x)}) // 1, 2, 3
```
### map
- **描述**：映射数组元素
- **语法**：`map(callbackFn(v, i, a), thisArg?){:js}`
```js
// 基本
[1, 2, 3].map((x) => x * 2)      // [2, 4, 6]
[1, 2, 3].map((x, i) => i)       // [0, 1, 2]
[1, 2, 3].map((x, i, a) => a[0]) // [1, 1, 1]

// 跳过空槽
[1,  , 3].map(x => x) // [1, empty, 3]

// 类数组
let arrayLike = { 0: 'a', 1: 'b', length: 2 }
Array.prototype.map.call(arrayLike, x => x) // ['a', 'b']
```
### filter
- **描述**：返回一个数组，包含了满足条件的值
- **语法**：`filter(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].filter(x => x > 0) // [1, 2, 3]
```
### reduce
- **描述**：合并数组元素
- **语法**：`reduce(callbackFn(p, v, i, a), initialValue?){:js}`
```js
// 基础
[1, 2, 3].reduce((a, b) => a + b)     // 6
[1, 2, 3].reduce((a, b) => a + b, 10) // 16

// 跳过空槽
[1,  , 3].reduce((a, b) => a + b) // 4
```
### reduceRight
- **描述**：合并数组元素
- **语法**：`reduceRight(callbackFn(p, v, i, a), initialValue?){:js}`
```js
[1, 2, 3].reduceRight((a, b) => a + b) // 6
```
### flat
- **描述**：原地展平数组，并返回新数组
- **语法**：`flat(depth?){:js}`
```js
[1, [2, [3]]].flat(1) // [1, 2, [3]]
[1, [2, [3]]].flat(2) // [1, 2, 3]
```
### flatMap
- **描述**：映射数组元素，然后展平一层
- **语法**：`flatMap(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].flatMap(x => [x, x]) // [1, 1, 2, 2, 3, 3]
```
## Searching an Array
### find
- **描述**：返回首个满足条件的元素
- **语法**：`find(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].find(x => x > 0) // 1
[1, 2, 3].find(x => x < 0) // undefined
```
### findLast
- **描述**：返回最后一个满足条件的元素
- **语法**：`findLast(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].findLast(x => x > 0) // 3
[1, 2, 3].findLast(x => x < 0) // undefined
```
### findIndex
- **描述**：返回首个满足条件元素的索引
- **语法**：`findIndex(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].findIndex(x => x > 0) // 0
[1, 2, 3].findIndex(x => x < 0) // -1
```
### findLastIndex
- **描述**：返回最后一个满足条件元素的索引
- **语法**：`findLastIndex(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].findLastIndex(x => x > 0) // 2
[1, 2, 3].findLastIndex(x => x < 0) // -1
```
### indexOf
- **描述**：返回元素首次出现的索引
- **语法**：`indexOf(value, start?){:js}`
```js
[1, 2, 3].indexOf(1)    // 0
[1, 2, 3].indexOf(1, 1) // -1
```
### lastIndexOf
- **描述**：返回元素最后一次出现的索引
- **语法**：`lastIndexOf(value, start?){:js}`
```js
[1, 2, 3].lastIndexOf(3)    // 2
[1, 2, 3].lastIndexOf(3, 1) // -1
```
### includes
- **描述**：是否包含某个元素
- **语法**：`includes(value, position?){:js}`
- **参数**
	- `value{:js}`：查询的值
    - `position = 0{:js}`：查询的起始位置
```js
[1, 2, 3].includes(1)    // true
[1, 2, 3].includes(1, 1) // false
```
### every
- **描述**：是否所有元素都满足条件
- **语法**：`every(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].every(x => x > 0) // true
```
### some
- **描述**：是否存在一个元素满足条件
- **语法**：`some(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].some(x => x < 0) // false
```
## Sorting an Array
### sort
- **描述**：原地排序数组，并返回该数组
- **语法**：`sort(compareFn?){:js}`
- **参数**
	- `compareFn(a, b){:js}`：排序函数，默认会转化为字符串，按 UTF-16 码排序
        - `f(a, b) < 0`：a 在前
        - `f(a, b) === 0`：顺序不变
```js
[1, 2, 10].sort() // [1, 10, 2]
[1, 2, 10].sort((a, b) => a - b) // [1, 2, 10]
```
### reverse
- **描述**：原地反转数组，并返回该数组
- **语法**：`reverse(){:js}`
```js
[1, 2, 3].reverse() // [3, 2, 1]
```
## Enumerating an Array
### keys
- **描述**：返回一个迭代器，包含元素的键
- **语法**：`keys(){:js}`
```js
Array.from(['a', 'b', 'c'].keys()) // [0, 1, 2]
```
### values
- **描述**：返回一个迭代器，包含元素的值
- **语法**：`values(){:js}`
```js
Array.from(['a', 'b', 'c'].values()) // ['a', 'b', 'c']
```
### entries
- **描述**：返回一个迭代器，包含元素的键值对
- **语法**：`entries(){:js}`
```js
Array.from(['a', 'b', 'c'].entries()) // [[0, 'a'], [1, 'b'], [2, 'c']]
```
## Clone an Array
### slice
- **描述**：返回拷贝后的数组
- **语法**：`slice(start?, end?){:js}`
```js
[1, 2, 3].slice()     // [1, 2, 3]
[1, 2, 3].slice(1)    // [2, 3]
[1, 2, 3].slice(1, 2) // [2]
```
### concat
- **描述**：返回拼接后的数组
- **语法**：`concat(...elements){:js}`
```js
// 基础
[1, 2].concat()     // [1, 2]
[1, 2].concat(3, 4) // [1, 2, 3, 4]

// 自动展平一层
[1, 2].concat([3], [4]) // [1, 2, 3, 4]
```
## Copying Methods
### with
- **描述**：[arr\[i\]]() 的拷贝版本
- **语法**：`with(index, value){:js}`
```js
// positive index
[1, 2, 3].with(0, 0)  // [0, 2, 3]

// negative index
[1, 2, 3].with(-1, 0) // [1, 2, 0]
```
### toSorted
- **描述**：[sort](#sort) 的拷贝版本
- **语法**：`toSorted(compareFn?){:js}`
```js
[1, 2, 10].toSorted() // [1, 10, 2]
[1, 2, 10].toSorted((a, b) => a - b) // [1, 2, 10]
```
### toReversed
- **描述**：[reverse](#reverse) 的拷贝版本
- **语法**：`toReversed(){:js}`
```js
[1, 2, 3].toReversed() // [3, 2, 1]
```
### toSpliced
- **描述**：[splice](#splice) 的拷贝版本
- **语法**：`toSpliced(start, deleteCount?, ...elements){:js}`
```js
// remove
[1, 2, 3].toSpliced(1)    // [1]
[1, 2, 3].toSpliced(1, 1) // [1, 3]

// insert
[1, 2, 3].toSpliced(1, 0, 'a', 'b') // [1, 'a', 'b', 2, 3]
[1, 2, 3].toSpliced(1, 2, 'a', 'b') // [1, 'a', 'b']
```
## Other Methods
### join
- **描述**：将元素连接为字符串
- **语法**：`join(separator?){:js}`
```js
[1, 2, 3].join()    // '1,2,3'
[1, 2, 3].join('-') // '1-2-3'
```
### toString
- **描述**：返回数组元素字符串
- **语法**：`toString(){:js}`
```js
[1, 2, 3].toString() // '1,2,3'
```
### isArray
- **描述**：判断是否是数组
- **语法**：`Array.isArray(value){:js}`
```js
Array.isArray([]) // true
```