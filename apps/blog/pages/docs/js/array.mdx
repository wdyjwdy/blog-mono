import { Callout } from 'nextra/components'

# Array
## Creating an Array
### with literals
- **æè¿°**ï¼šåˆ›å»ºæ•°ç»„
```js
let arr = []        // []
let arr = [,,,]     // [empty Ã— 3]
let arr = [1, 2, 3] // [1, 2, 3]
```
### spread operator
- **æè¿°**ï¼šä»*å¯è¿­ä»£å¯¹è±¡*åˆ›å»ºæ•°ç»„
```js
[...'abc'] // ['a', 'b', 'c']
```
### constructor()
- **æè¿°**ï¼šåˆ›å»ºæ•°ç»„
- **è¯­æ³•**ï¼š`Array(length){:js}`, `Array(...elements){:js}`
```js
Array()        // []
Array(3)       // [empty Ã— 3]
Array(1, 2, 3) // [1, 2, 3]
```
### of()
- **æè¿°**ï¼šåˆ›å»ºæ•°ç»„
- **è¯­æ³•**ï¼š`Array.of(...elements){:js}`
```js
Array.of()        // []
Array.of(3)       // [3]
Array.of(1, 2, 3) // [1, 2, 3]
```
<Callout type="info" emoji="ï¸ğŸ³">
è§£å†³äº† [Array()](#constructor) ä¸èƒ½åˆ›å»ºå•ä¸ªå…ƒç´ çš„æ•°ç»„çš„é—®é¢˜
</Callout>
### from()
- **æè¿°**ï¼šä»*å¯è¿­ä»£å¯¹è±¡*æˆ–*ç±»æ•°ç»„*åˆ›å»ºæ•°ç»„
- **è¯­æ³•**ï¼š`Array.from(arrayLike, mapFn?, thisArg?){:js}`
```js
// å¯è¿­ä»£å¯¹è±¡
Array.from('hello') // ['h', 'e', 'l', 'l', 'o']

// ç±»æ•°ç»„
Array.from({ 0: 'a', 1: 'b', length: 2 }) // ['a', 'b']

// æ˜ å°„å‡½æ•°
Array.from('123', x => Number(x)) // [1, 2, 3]
```
## Accessing an Array
### at()
- **æè¿°**ï¼šè®¿é—®ç´¢å¼•ä½ç½®å…ƒç´ 
- **è¯­æ³•**ï¼š`at(index){:js}`
```js
// positive index
[1, 2, 3].at(0)  // 1

// negative index
[1, 2, 3].at(-1) // 3
```
## Modifying an Array
### push()
- **æè¿°**ï¼šæ·»åŠ å…ƒç´ åˆ°æ•°ç»„æœ«å°¾ï¼Œå¹¶è¿”å›æ–°æ•°ç»„é•¿åº¦
- **è¯­æ³•**ï¼š`push(...elements){:js}`
```js
[1, 2].push(3)    // 3, arr: [1, 2, 3]
[1, 2].push(3, 4) // 4, arr: [1, 2, 3, 4]
```
### pop()
- **æè¿°**ï¼šåˆ é™¤æ•°ç»„æœ«å°¾å…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ 
- **è¯­æ³•**ï¼š`pop(){:js}`
```js
[1, 2].pop() // 2, arr: [1]
```
### unshift
- **æè¿°**ï¼šæ·»åŠ å…ƒç´ åˆ°æ•°ç»„å¼€å¤´ï¼Œå¹¶è¿”å›æ–°æ•°ç»„é•¿åº¦
- **è¯­æ³•**ï¼š`unshift(...elements){:js}`
```js
[1, 2].unshift(0)     // 3, arr: [0, 1, 2]
[1, 2].unshift(-1, 0) // 4, arr: [-1, 0, 1, 2]
```
### shift()
- **æè¿°**ï¼šåˆ é™¤æ•°ç»„å¼€å¤´å…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ 
- **è¯­æ³•**ï¼š`shift(){:js}`
```js
[1, 2].shift() // 1, arr: [2]
```
### splice()
- **æè¿°**ï¼šä¿®æ”¹æ•°ç»„ï¼Œå¹¶è¿”å›è¢«åˆ é™¤çš„å…ƒç´ 
- **è¯­æ³•**ï¼š`splice(start, deleteCount?, ...elements){:js}`
- **å‚æ•°**
	- `start{:js}`ï¼šæ“ä½œä½ç½®
    - `deleteCount = Infinity{:js}`ï¼šåˆ é™¤å…ƒç´ çš„ä¸ªæ•°
    - `element{:js}`ï¼šæ’å…¥çš„å…ƒç´ 
```js
// remove
[1, 2, 3].splice(1)    // [2, 3], arr: [1]
[1, 2, 3].splice(1, 1) // [2], arr: [1, 3]

// insert
[1, 2, 3].splice(1, 0, 'a', 'b') // [], arr: [1, 'a', 'b', 2, 3]
[1, 2, 3].splice(1, 2, 'a', 'b') // [2, 3], arr: [1, 'a', 'b']
```
### copyWithin()
- **æè¿°**ï¼šå¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†åˆ°å¦ä¸€ä¸ªä½ç½®ï¼Œå¹¶è¿”å›åŸæ•°ç»„
- **è¯­æ³•**ï¼š`splice(target, start?, end?){:js}`
```js
[1, 2, 3].copyWithin(1)       // [1, 1, 2]
[1, 2, 3].copyWithin(0, 1, 3) // [2, 3, 3]
```
### fill()
- **æè¿°**ï¼šå¡«å……æ•°ç»„ï¼Œå¹¶è¿”å›åŸæ•°ç»„
- **è¯­æ³•**ï¼š`fill(value, start?, end?){:js}`
```js
// åŸºç¡€
[1, 2, 3].fill(0)       // [0, 0, 0]
[1, 2, 3].fill(0, 1, 3) // [1, 0, 0]

// å¡«å……ç©ºæ§½
[ , , , ].fill(0)       // [0, 0, 0]
```
## Iterating an Array
### forEach()
- **æè¿°**ï¼šéå†æ•°ç»„
- **è¯­æ³•**ï¼š`forEach(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].forEach(x => {console.log(x)}) // 1, 2, 3
```
### map()
```mermaid
block-beta
  columns 5
  a("x") space:3 b("f(x)")
  c("y") space:3 d("f(y)")
a --> b
c --> d
```
- **æè¿°**ï¼šæ˜ å°„æ•°ç»„å…ƒç´ 
- **è¯­æ³•**ï¼š`map(callbackFn(v, i, a), thisArg?){:js}`
```js
// åŸºæœ¬
[1, 2, 3].map((x) => x * 2)      // [2, 4, 6]
[1, 2, 3].map((x, i) => i)       // [0, 1, 2]
[1, 2, 3].map((x, i, a) => a[0]) // [1, 1, 1]

// è·³è¿‡ç©ºæ§½
[1,  , 3].map(x => x) // [1, empty, 3]

// ç±»æ•°ç»„
let arrayLike = { 0: 'a', 1: 'b', length: 2 }
Array.prototype.map.call(arrayLike, x => x) // ['a', 'b']
```
### filter()
```mermaid
block-beta
  columns 10
  a("x"):2 space:6 b("x"):2
  c("y"):2 space:6 d(" "):2
a -- "f(x) is true" --> b
c -- "f(y) is false"--> d
class d Dash
```
- **æè¿°**ï¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†æ»¡è¶³æ¡ä»¶çš„å€¼
- **è¯­æ³•**ï¼š`filter(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].filter(x => x > 0) // [1, 2, 3]
```
### reduce()
- **æè¿°**ï¼šåˆå¹¶æ•°ç»„å…ƒç´ 
- **è¯­æ³•**ï¼š`reduce(callbackFn(p, v, i, a), initialValue?){:js}`
```js
// åŸºç¡€
[1, 2, 3].reduce((a, b) => a + b)     // 6
[1, 2, 3].reduce((a, b) => a + b, 10) // 16

// è·³è¿‡ç©ºæ§½
[1,  , 3].reduce((a, b) => a + b) // 4
```
### reduceRight()
- **æè¿°**ï¼šåˆå¹¶æ•°ç»„å…ƒç´ 
- **è¯­æ³•**ï¼š`reduceRight(callbackFn(p, v, i, a), initialValue?){:js}`
```js
[1, 2, 3].reduceRight((a, b) => a + b) // 6
```
### flat()
- **æè¿°**ï¼šåŸåœ°å±•å¹³æ•°ç»„ï¼Œå¹¶è¿”å›æ–°æ•°ç»„
- **è¯­æ³•**ï¼š`flat(depth?){:js}`
```js
[1, [2, [3]]].flat(1) // [1, 2, [3]]
[1, [2, [3]]].flat(2) // [1, 2, 3]
```
### flatMap()
- **æè¿°**ï¼šæ˜ å°„æ•°ç»„å…ƒç´ ï¼Œç„¶åå±•å¹³ä¸€å±‚
- **è¯­æ³•**ï¼š`flatMap(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].flatMap(x => [x, x]) // [1, 1, 2, 2, 3, 3]
```
## Searching an Array
### find()
- **æè¿°**ï¼šè¿”å›é¦–ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ 
- **è¯­æ³•**ï¼š`find(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].find(x => x > 0) // 1
[1, 2, 3].find(x => x < 0) // undefined
```
### findLast()
- **æè¿°**ï¼šè¿”å›æœ€åä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ 
- **è¯­æ³•**ï¼š`findLast(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].findLast(x => x > 0) // 3
[1, 2, 3].findLast(x => x < 0) // undefined
```
### findIndex()
- **æè¿°**ï¼šè¿”å›é¦–ä¸ªæ»¡è¶³æ¡ä»¶å…ƒç´ çš„ç´¢å¼•
- **è¯­æ³•**ï¼š`findIndex(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].findIndex(x => x > 0) // 0
[1, 2, 3].findIndex(x => x < 0) // -1
```
### findLastIndex()
- **æè¿°**ï¼šè¿”å›æœ€åä¸€ä¸ªæ»¡è¶³æ¡ä»¶å…ƒç´ çš„ç´¢å¼•
- **è¯­æ³•**ï¼š`findLastIndex(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].findLastIndex(x => x > 0) // 2
[1, 2, 3].findLastIndex(x => x < 0) // -1
```
### indexOf()
- **æè¿°**ï¼šè¿”å›å…ƒç´ é¦–æ¬¡å‡ºç°çš„ç´¢å¼•
- **è¯­æ³•**ï¼š`indexOf(value, start?){:js}`
```js
[1, 2, 3].indexOf(1)    // 0
[1, 2, 3].indexOf(1, 1) // -1
```
### lastIndexOf()
- **æè¿°**ï¼šè¿”å›å…ƒç´ æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•
- **è¯­æ³•**ï¼š`lastIndexOf(value, start?){:js}`
```js
[1, 2, 3].lastIndexOf(3)    // 2
[1, 2, 3].lastIndexOf(3, 1) // -1
```
### includes()
- **æè¿°**ï¼šæ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ 
- **è¯­æ³•**ï¼š`includes(value, position?){:js}`
- **å‚æ•°**
	- `value{:js}`ï¼šæŸ¥è¯¢çš„å€¼
    - `position = 0{:js}`ï¼šæŸ¥è¯¢çš„èµ·å§‹ä½ç½®
```js
[1, 2, 3].includes(1)    // true
[1, 2, 3].includes(1, 1) // false
```
### every()
- **æè¿°**ï¼šæ˜¯å¦æ‰€æœ‰å…ƒç´ éƒ½æ»¡è¶³æ¡ä»¶
- **è¯­æ³•**ï¼š`every(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].every(x => x > 0) // true
```
### some()
- **æè¿°**ï¼šæ˜¯å¦å­˜åœ¨ä¸€ä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶
- **è¯­æ³•**ï¼š`some(callbackFn(v, i, a), thisArg?){:js}`
```js
[1, 2, 3].some(x => x < 0) // false
```
## Sorting an Array
### sort()
- **æè¿°**ï¼šåŸåœ°æ’åºæ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„
- **è¯­æ³•**ï¼š`sort(compareFn?){:js}`
- **å‚æ•°**
	- `compareFn(a, b){:js}`ï¼šæ’åºå‡½æ•°ï¼Œé»˜è®¤ä¼šè½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼ŒæŒ‰ UTF-16 ç æ’åº
        - `f(a, b) < 0`ï¼ša åœ¨å‰
        - `f(a, b) === 0`ï¼šé¡ºåºä¸å˜
```js
[1, 2, 10].sort() // [1, 10, 2]
[1, 2, 10].sort((a, b) => a - b) // [1, 2, 10]
```
### reverse()
- **æè¿°**ï¼šåŸåœ°åè½¬æ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„
- **è¯­æ³•**ï¼š`reverse(){:js}`
```js
[1, 2, 3].reverse() // [3, 2, 1]
```
## Enumerating an Array
### keys()
- **æè¿°**ï¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒåŒ…å«å…ƒç´ çš„é”®
- **è¯­æ³•**ï¼š`keys(){:js}`
```js
Array.from(['a', 'b', 'c'].keys()) // [0, 1, 2]
```
### values()
- **æè¿°**ï¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒåŒ…å«å…ƒç´ çš„å€¼
- **è¯­æ³•**ï¼š`values(){:js}`
```js
Array.from(['a', 'b', 'c'].values()) // ['a', 'b', 'c']
```
### entries()
- **æè¿°**ï¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒåŒ…å«å…ƒç´ çš„é”®å€¼å¯¹
- **è¯­æ³•**ï¼š`entries(){:js}`
```js
Array.from(['a', 'b', 'c'].entries()) // [[0, 'a'], [1, 'b'], [2, 'c']]
```
## Copying an Array
### slice()
- **æè¿°**ï¼šè¿”å›æ‹·è´åçš„æ•°ç»„
- **è¯­æ³•**ï¼š`slice(start?, end?){:js}`
```js
[1, 2, 3].slice()     // [1, 2, 3]
[1, 2, 3].slice(1)    // [2, 3]
[1, 2, 3].slice(1, 2) // [2]
```
### concat()
- **æè¿°**ï¼šè¿”å›æ‹¼æ¥åçš„æ•°ç»„
- **è¯­æ³•**ï¼š`concat(...elements){:js}`
```js
// åŸºç¡€
[1, 2].concat()     // [1, 2]
[1, 2].concat(3, 4) // [1, 2, 3, 4]

// è‡ªåŠ¨å±•å¹³ä¸€å±‚
[1, 2].concat([3], [4]) // [1, 2, 3, 4]
```
## Copying Methods
### with()
- **æè¿°**ï¼š[arr\[i\]]() çš„æ‹·è´ç‰ˆæœ¬
- **è¯­æ³•**ï¼š`with(index, value){:js}`
```js
// positive index
[1, 2, 3].with(0, 0)  // [0, 2, 3]

// negative index
[1, 2, 3].with(-1, 0) // [1, 2, 0]
```
### toSorted()
- **æè¿°**ï¼š[sort](#sort) çš„æ‹·è´ç‰ˆæœ¬
- **è¯­æ³•**ï¼š`toSorted(compareFn?){:js}`
```js
[1, 2, 10].toSorted() // [1, 10, 2]
[1, 2, 10].toSorted((a, b) => a - b) // [1, 2, 10]
```
### toReversed()
- **æè¿°**ï¼š[reverse](#reverse) çš„æ‹·è´ç‰ˆæœ¬
- **è¯­æ³•**ï¼š`toReversed(){:js}`
```js
[1, 2, 3].toReversed() // [3, 2, 1]
```
### toSpliced()
- **æè¿°**ï¼š[splice](#splice) çš„æ‹·è´ç‰ˆæœ¬
- **è¯­æ³•**ï¼š`toSpliced(start, deleteCount?, ...elements){:js}`
```js
// remove
[1, 2, 3].toSpliced(1)    // [1]
[1, 2, 3].toSpliced(1, 1) // [1, 3]

// insert
[1, 2, 3].toSpliced(1, 0, 'a', 'b') // [1, 'a', 'b', 2, 3]
[1, 2, 3].toSpliced(1, 2, 'a', 'b') // [1, 'a', 'b']
```
## Other Methods
### join()
- **æè¿°**ï¼šå°†å…ƒç´ è¿æ¥ä¸ºå­—ç¬¦ä¸²
- **è¯­æ³•**ï¼š`join(separator?){:js}`
```js
[1, 2, 3].join()    // '1,2,3'
[1, 2, 3].join('-') // '1-2-3'
```
### toString()
- **æè¿°**ï¼šè¿”å›æ•°ç»„å…ƒç´ å­—ç¬¦ä¸²
- **è¯­æ³•**ï¼š`toString(){:js}`
```js
[1, 2, 3].toString() // '1,2,3'
```
### isArray()
- **æè¿°**ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„
- **è¯­æ³•**ï¼š`Array.isArray(value){:js}`
```js
Array.isArray([]) // true
```